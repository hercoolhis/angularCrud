<!DOCTYPE html>
<html>
<head>
	<title></title>

	 <link rel="stylesheet" href="css/bootstrap.min.css" />
	  <link rel="stylesheet" href="css/app.css" />

	<script type="text/javascript" src='js/angular.min.js'></script>
	<script type="text/javascript" src='js/jquery.min.js'></script>
	<script type="text/javascript" src='js/bootstrap.min.js'></script>
	<script type="text/javascript" src='app.js'></script>
	

</head>
<body ng-app='myApp' ng-controller='AppController'>



<div class="container jumbotron text-center" >

    <div>

     <h2>Angular Crud</h2>
      <p>Create, Read ,Update, Delete</p>
      
    </div> 

    
  </div> <!-- close container -->

  <div class="container">	
  		<hr>
  		<button type="button" class="btn btn-primary btn-lg pull-right" data-toggle="modal" data-target="#loginModal">New User</button>

  		<h2>All Users</h2>
  		<span class='clearfix'></span>

    	
    	<hr>
    	<div class="alert alert-success" ng-if='message'>
    	<a href="#" class="close" aria-label="close" ng-click='clearMessage()'>&times;</a>
		  <strong>{{ message }}</strong> 
		</div>

    	<table class="table table-hover" >
    <thead>
      <tr>
        <th>Index</th>
        <th>Name</th>
        <th>Username</th>
        <th>Email</th>
        <th>Edit</th>
        <th>Delete</th> 
      </tr>
    </thead>
    <tbody >
      <tr ng-repeat = 'user in users'>
        <td>{{ $index + 1 }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td><button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#editModal" ng-click='selectUser(user)'>Edit</button></td>
        <td><button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#deleteModal" ng-click='selectUser(user)' >Delete</button></td>

      </tr>
      
    </tbody>
  </table>

  	

<!-- Modal -->
<div id="loginModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Create New User</h4>
      </div>
      <div class="modal-body">
         <form class="form-horizontal" role="form">
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="name">Name:</label>
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="name" placeholder="Enter Name" ng-model='newUser.name'>
				    </div>
				  </div>
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="pwd">Username:</label>
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="pwd" placeholder="Enter Username" ng-model='newUser.username'>
				    </div>
				  </div>
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="email">Email:</label>
				    <div class="col-sm-10">
				      <input type="email" class="form-control" id="email" placeholder="Enter email" ng-model='newUser.email'>
				    </div>
				  </div>
				  
				  <div class="form-group">
				    <div class="col-sm-offset-2 col-sm-10">
				      <button type="submit" class="btn btn-default" data-dismiss="modal" ng-click='saveUser()'>Save</button>
				    </div>
				  </div>
</form>
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div> -->
    </div>

  </div>
</div>
<!-- modal! end--> 


<div id="editModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Edit User</h4>
      </div>
      <div class="modal-body">
         <form class="form-horizontal" role="form">
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="name">Name:</label>
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="name" placeholder="Enter Name" ng-model='clickedUser.name'>
				    </div>
				  </div>
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="pwd">Username:</label>
				    <div class="col-sm-10">
				      <input type="text" class="form-control" id="pwd" placeholder="Enter Username" ng-model='clickedUser.username'>
				    </div>
				  </div>
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="email">Email:</label>
				    <div class="col-sm-10">
				      <input type="email" class="form-control" id="email" placeholder="Enter email" ng-model='clickedUser.email'>
				    </div>
				  </div>
				  
				  <div class="form-group">
				    <div class="col-sm-offset-2 col-sm-10">
				      <button type="submit" class="btn btn-default" data-dismiss="modal" ng-click='updateUser()'>Update</button>
				    </div>
				  </div>
</form>
      </div>
      <!-- <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div> -->
    </div>

  </div>
</div>


<!-- Modal -->
<div id="deleteModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Delete User</h4>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete <strong> {{ clickedUser.name }}</strong> ?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click='deleteUser()'>Yes</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
      </div>
    </div>

  </div>
</div>


    </div>




</body>
</html>